{
  "$comment": "JSON Schema for tokens/tokens.json. Accepts both full token object {value:...} and primitive shorthand leaf values. Edit by Token Owner; update when token shape changes.",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Design System Tokens Schema (flexible)",
  "type": "object",
  "additionalProperties": true,
  "description": "Root object containing nested token categories. Leaves may be primitive (string/number/boolean) or token objects with a 'value' property.",
  "definitions": {
    "tokenPrimitive": {
      "type": ["string", "number", "boolean"],
      "description": "Primitive token value (colors as strings, sizes as strings with units, numbers for unitless values)."
    },
    "tokenObject": {
      "type": "object",
      "required": ["value"],
      "properties": {
        "value": { "$ref": "#/definitions/tokenPrimitive" },
        "type": {
          "type": "string",
          "description": "Optional semantic type hint (e.g., color, spacing, font-size, duration, easing, font-family, font-weight, line-height)"
        },
        "description": { "type": "string" },
        "deprecated": { "type": "boolean" },
        "replacement": { "type": "string" },
        "aliasOf": { "type": "string" },
        "meta": {
          "type": "object",
          "additionalProperties": true
        }
      },
      "additionalProperties": false
    }
  },
  "patternProperties": {
    "^[a-z0-9]+(?:[-_][a-z0-9]+)*$": {
      "anyOf": [
        { "$ref": "#/definitions/tokenObject" },
        { "$ref": "#/definitions/tokenPrimitive" },
        { "type": "object" }
      ]
    }
  },
  "examples": [
    {
      "color": {
        "brand": {
          "primary": {
            "value": "#0a84ff",
            "type": "color",
            "description": "Primary brand color"
          },
          "secondary": "#5e5ce6"
        }
      },
      "spacing": {
        "scale": {
          "3": "12px",
          "4": {
            "value": "16px",
            "type": "spacing",
            "description": "Default spacing step"
          }
        }
      }
    }
  ]
}
